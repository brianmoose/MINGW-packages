--- a/src/CMakeLists.txt      	2022-01-25 08:41:06 +0000
+++ b/src/CMakeLists.txt	2022-01-25 07:49:45 +0000
@@ -1242,6 +1242,7 @@
           $<$<BOOL:${HDF5_ENABLE_TRACE}>:H5_DEBUG_API>  # Enable tracing of the API
           $<$<BOOL:${HDF5_ENABLE_DEBUG_APIS}>:H5Z_DEBUG;H5T_DEBUG;H5S_DEBUG;H5O_DEBUG;H5I_DEBUG;H5HL_DEBUG;H5F_DEBUG;H5D_DEBUG;H5B2_DEBUG;H5AC_DEBUG>
   )
+  SET_TARGET_PROPERTIES(${HDF5_LIBSH_TARGET} PROPERTIES LINK_FLAGS "-Wl,--output-def,${HDF5_LIBSH_TARGET}.def")
   TARGET_C_PROPERTIES (${HDF5_LIBSH_TARGET} SHARED)
   target_link_libraries (${HDF5_LIBSH_TARGET}
       PRIVATE ${LINK_LIBS} ${LINK_COMP_LIBS} "$<$<BOOL:${HDF5_ENABLE_PARALLEL}>:${MPI_C_LIBRARIES}>" $<$<BOOL:${HDF5_ENABLE_THREADSAFE}>:Threads::Threads>
